
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Priority Queue Using Binary Heap | 跬步千里</title>
    <meta name="author" content="chadwick-yao" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://cdn.staticfile.org" />
<script src="https://cdn.staticfile.org/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.loli.net" />
<link rel="preconnect" href="https://gstatic.loli.net" crossorigin />
<link rel="stylesheet" href="https://fonts.loli.net/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://cdn.staticfile.org/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://cdn.staticfile.org/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.16.9/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>









<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>
<link rel="stylesheet" href="/css/main.css" />
<link rel="preconnect" href="https://static-argvchs.netlify.app" />

        <link rel="stylesheet" href="/css/mouse.css">
        <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>Wait For a Moment...</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>跬步千里</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solidj fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;跬步千里</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solidj fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>Priority Queue Using Binary Heap</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/2/5
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/Algorithm/" style="color: #ffa2c4">Algorithm</a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <p>Binary Heap is not so mysterious, whose operations just involve two, <code>Shift Up</code> and <code>Shift Down</code> to maintain its properties. Its application has two main aspects, the one is to implement <code>Heap Sort</code>, another is to realize a practical data structure called <code>Priority Queue</code>.</p>
<span id="more"></span>

<h2 id="What-is-Binary-Heap"><a href="#What-is-Binary-Heap" class="headerlink" title="What is Binary Heap?"></a>What is Binary Heap?</h2><p>Logically, Binary Heap is a special form of Binary Tree (Complete Binary Tree). However, its data is actually saved in array. In Binary Tree, we generally operate the root pointer, but we regard the index as the pointer in array.</p>
<pre><code class="cpp">// parent index
int parent (int root) &#123;
    return root / 2;
&#125;
// a left child index
int left(int root) &#123;
    return root * 2;
&#125;
// a right child index
int right(int root) &#123;
    return root * 2 + 1;
&#125;
</code></pre>
<p>Here is a picture that helps to comprehend this concept behind the code. Normally, we just do not use the first position to save any data (but we can use it as well).</p>
<img src="https://labuladong.github.io/algo/images/heap/1.png" alt="img" style="zoom:20%;">

<p>A Binary Heap is either Min Heap or Max Heap.</p>
<p><strong>Min Binary Heap.</strong> The key at the root must be minimum among all keys present in Binary Heap. The same property must be recursively true for all nodes in Binary Tree, Obviously, <code>arr[1]</code> is minimum of the tree.</p>
<p><strong>Max Binary Heap.</strong> The key at the root must be maximum among all keys present in Binary Heap. The same property must be recursively true for all nodes in Binary Tree.</p>
<h2 id="What-is-Priority-Queue"><a href="#What-is-Priority-Queue" class="headerlink" title="What is Priority Queue?"></a>What is Priority Queue?</h2><p>The special property of Priority Queue is that when we insert&#x2F;delete any item, the items in the queue would sort automatically, and the basic concepts behind the scene is Binary Heap. Priority Queue is an extension of the queue with the following properties.</p>
<ol>
<li>Every item has a priority associated with it.</li>
<li>An element with high priority is dequeued before an element with low priority.</li>
<li>If two elements have the same priority, they are served according to their order in the queue.</li>
</ol>
<h2 id="Example-of-A-Binary-Max-Heap"><a href="#Example-of-A-Binary-Max-Heap" class="headerlink" title="Example of A Binary Max Heap"></a>Example of A Binary Max Heap</h2><ul>
<li>Suppose below is the given Binary Heap that follows all the properties of Binary Max Heap.</li>
</ul>
<p><img src="https://media.geeksforgeeks.org/wp-content/uploads/20220723001728/D1drawio.png" alt="img"></p>
<ul>
<li><strong>Now a node with value 32 needs to be insert in the above heap.</strong> To insert an element, first just add it to any leaf like the situation below. To maintain the heap property, shift up the new node 32.</li>
</ul>
<p><img src="https://media.geeksforgeeks.org/wp-content/uploads/20220723001848/D2drawio1.png" alt="img"></p>
<ul>
<li><strong>Shift up operation gets the new node with value 32 in correct position.</strong> Swap the incorrectly placed node with its parent unitil the heap property is satisfied.</li>
</ul>
<p><img src="https://media.geeksforgeeks.org/wp-content/uploads/20220723002026/D3drawio1.png" alt="img"></p>
<ul>
<li><strong>ExtractMax.</strong> The maximum is stored in the root of the tree. But it cannot be directly removed. Here are procedures. First, it is replaced by any leaves and then removed. However, it probably violates the heap property, so move the replaced node down. For that, use shift-down operation.</li>
</ul>
<p><img src="https://media.geeksforgeeks.org/wp-content/uploads/20220723002255/D4drawio1.png" alt="img"></p>
<ul>
<li><strong>ShiftDown operation.</strong> Just swap the incorrectly placed node with a larger child until the heap obeys all properties.</li>
</ul>
<p><img src="https://media.geeksforgeeks.org/wp-content/uploads/20220723002326/D5drawio1.png" alt="img"></p>
<ul>
<li><strong>ChangePriority</strong>. Let the changed element shift up or down depending on whether its priority decreased or increased.</li>
<li><strong>Remove.</strong> In order to remove one element, just change its priority to a value that larger than the current maximum, then shift it up, then extract it from the heap like <strong>ExtractMax</strong> does.</li>
<li><strong>GetMax.</strong> The maximum value is stored in the root of the tree. To get maximum, just return the value at the root of the tree.</li>
</ul>
<h2 id="C-program-to-implement-Priority-Queue-using-Binary-Heap"><a href="#C-program-to-implement-Priority-Queue-using-Binary-Heap" class="headerlink" title="C++ program to implement Priority Queue using Binary Heap"></a>C++ program to implement Priority Queue using Binary Heap</h2><pre><code class="c++">#include &lt;bits/stdc++.h&gt;
using namespace std;

int H[50];
// the number of all elements
int size = -1;

// Parent index
int parent(int i) &#123;
    return (i - 1) / 2;
&#125;

// left child index
int leftChild(int i) &#123;
    return ((2 * i) + 1);
&#125;

//right child index
int rightChild(int i) &#123;
    return ((2 * i) + 2);
&#125;

// Function to shift up the node in order
void shiftUp(int i) &#123;
    while (i &gt; 0 &amp;&amp; H[parent(i)] &lt; H[i]) &#123;
        // swap parent and the current node
        swap(H[parent(i)], H[i]);
        // update i to parent of i
        i = parent(i)
    &#125;
&#125;

// function to shift down the node
void shiftDown(int i) &#123;
    int maxIndex = i;
 
    // Left Child
    int l = leftChild(i);
 
    if (l &lt;= size &amp;&amp; H[l] &gt; H[maxIndex]) &#123;
        maxIndex = l;
    &#125;
 
    // Right Child
    int r = rightChild(i);
 
    if (r &lt;= size &amp;&amp; H[r] &gt; H[maxIndex]) &#123;
        maxIndex = r;
    &#125;
 
    // If i not same as maxIndex
    if (i != maxIndex) &#123;
        swap(H[i], H[maxIndex]);
        shiftDown(maxIndex);
    &#125;
&#125;

// Function to insert a new element
void insert(int p) &#123;
    size = size + 1;
    H[size] = p;
    shiftUp(size);
&#125;

// Function to extract the element with maximum priority
void extractMax() &#123;
    int result = H[0];
    
    // replace the value of root with the last leaf
    H[0] = H[size];
    size = size - 1;
    
    shiftDown(0);
    return result;
&#125;

// Function to change the priority of an element
void changePriority(int i, int p) &#123;
    int oldp = H[i];
    H[i] = p;
    
    if (p &gt; oldp) &#123;
        shiftUp(i);
    &#125; else &#123;
        shiftDown(i);
    &#125;
&#125;

// Function to get the node with maximum priority
int getMax() &#123;
     return H[0];
&#125;

// Function to remove one element;
vodi remove(int i) &#123;
    // first set this node with a larger priority than the root node
    H[i] = getMax() + 1;
    
    // shiftup this node
    shiftUp(i);
    
    // extract this &quot;new root node&quot; from the tree
    extractMax();
&#125;
</code></pre>

    </div>
    
    
    
    
    <div id="comment">
        <div id="giscus-container" class="giscus"></div>
    </div>
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2024 跬步千里
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;chadwick-yao
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    <script>
        console.info("Welcome to Shawn's blog!");
        if (!window.hasOwnProperty("ontouchstart")) {
            let html = '<canvas id="fireworks" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"></canvas><script src="https://static-argvchs.netlify.app/js/fireworks.min.js"><\/script>';
            document.body.append(document.createRange().createContextualFragment(html));
        }
    </script>
    
    
<script
    src="https://giscus.app/client.js"
    data-repo="argvchs/giscus-comments"
    data-repo-id="R_kgDOI_uC-w"
    data-category="Announcements"
    data-category-id="DIC_kwDOI_uC-84CUToF"
    data-mapping="pathname"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="https://static-argvchs.netlify.app/css/giscus.css"
    data-lang="zh-CN"
    crossorigin
    async
></script>





    

        <script type="text/javascript"
        color="0, 0, 0" opacity='0.5' zIndex="-1" count="150" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
        </script>


        <div id="L2dCanvas"></div>
        <link rel="stylesheet" href="/css/live2d.min.css">
        <script src="https://cdn.staticfile.org/pixi.js/4.6.1/pixi.min.js"></script>
        <script src="/js/live2d.min.js"></script>
        <script>
            var v = new Viewer({
                width: 240,
                height: 325,
                right: "0",
                bottom: "0",
                basePath: "/model",
                role: "lingbo",
                mobile: true,
            });
        </script>
        
        <canvas id="fireworks" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"></canvas>
        <script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>
        <script src="/js/fireworks.min.js"></script>
</body>
</html>
